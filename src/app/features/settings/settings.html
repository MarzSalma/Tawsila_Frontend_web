<div class="settings-layout">

  <!-- ‚ë† OVERLAY -->
  <div class="overlay" [class.open]="sidebarOpen()" (click)="closeSidebar()"></div>

  <!-- ‚ë° SIDEBAR ‚Äî directement dans settings-layout -->

  <!-- ‚ë¢ MAIN CONTENT -->
  <div class="main-content">

    <!-- Topbar avec bouton ‚ò∞ hamburger -->
    <header class="settings-header">
      <div class="header-left">
        <button class="menu-btn" (click)="toggleSidebar()">
          <span></span><span></span><span></span>
        </button>
        <div class="header-title">
          <img src="assets/images/logo.jpg" alt="Tawsila" class="header-logo">
          <div>
            <h1>{{ t('parametres') }}</h1>
            <p>Tawsila</p>
          </div>
        </div>
      </div>
    </header>

  <div class="settings-content">
<aside class="sidebar" [class.open]="sidebarOpen()">
    <div class="sidebar-header">
      <div class="sidebar-avatar">{{ getInitialsUser() }}</div>
      <div>
        <p class="sidebar-name">{{ user()?.prenom }} {{ user()?.nom }}</p>
        <p class="sidebar-email">{{ user()?.email }}</p>
      </div>
    </div>

    <nav class="sidebar-nav">
     <button class="nav-item" (click)="goToProfile()">
        Mon Profil
      </button>
      <button class="nav-item" (click)="goToCouriers()">
         Couriers
      </button>
      <!-- Merchants est actif sur cette page -->
      <button class="nav-item" (click)="goToMerchants()">
        Merchants
      </button>
      <button class="nav-item active" (click)="goToSettings()">
        Param√®tres
      </button>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-btn" (click)="logout()">
        {{ t('seDeconnecter') }}
      </button>
    </div>
  </aside>
    <!-- ‚îÄ‚îÄ Langue ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="settings-section">
      <div class="section-header">
        
        <div>
          <h2>{{ t('langue') }}</h2>
          <p>{{ t('choisirLangue') }}</p>
        </div>
      </div>

      <div class="lang-grid">
        <button *ngFor="let lang of languages"
          class="lang-btn"
          [class.selected]="selectedLang() === lang.code"
          (click)="setLang(lang.code)">
          <span class="lang-flag">{{ lang.flag }}</span>
          <span class="lang-label">{{ lang.label }}</span>
          <span class="lang-name">{{ lang.name }}</span>
          <span class="check-icon" *ngIf="selectedLang() === lang.code">‚úì</span>
        </button>
      </div>
    </div>

    <!-- ‚îÄ‚îÄ Apparence ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="settings-section">
      

      <div class="toggle-row" (click)="toggleDarkMode()">
        <div class="toggle-info">
          <span class="toggle-icon">{{ darkMode() ? 'üåô' : '‚òÄÔ∏è' }}</span>
          <div>
            <p class="toggle-label">{{ t('modeSombre') }}</p>
            <p class="toggle-desc">{{ darkMode() ? t('themeSombreActif') : t('themeClairActif') }}</p>
          </div>
        </div>
        <div class="toggle-switch" [class.on]="darkMode()">
          <div class="toggle-thumb"></div>
        </div>
      </div>
    </div>

    <!-- ‚îÄ‚îÄ Notifications ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div class="settings-section">
    
      <div class="toggle-row" (click)="toggleNotifications()">
        <div class="toggle-info">
          <span class="toggle-icon">{{ notifications() ? 'üîî' : 'üîï' }}</span>
          <div>
            <p class="toggle-label">{{ t('notifPush') }}</p>
            <p class="toggle-desc">{{ notifications() ? t('notifActivees') : t('notifDesactivees') }}</p>
          </div>
        </div>
        <div class="toggle-switch" [class.on]="notifications()">
          <div class="toggle-thumb"></div>
        </div>
      </div>
    </div>


  </div>
</div>