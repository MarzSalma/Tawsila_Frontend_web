<div class="signup-page">
  <div class="signup-container">

    <!-- Panel gauche -->
    <div class="left-panel">
      <div class="brand">
        <img src="assets/images/logo.jpg" alt="Tawsila logo">
        <h1>Welcome</h1>
        <p>Join the platform</p>
      </div>

      <div class="features">
        <div class="feature">ğŸšš <span>All your shopping in one place</span></div>
        <div class="feature">ğŸ›ï¸ <span>Choose what you want, we deliver it safely</span></div>
        <div class="feature">ğŸ“¦ <span>Fast & reliable delivery</span></div>
      </div>

      <div class="merchant-box">
        <p class="merchant-title">Are you a business?</p>
        <button type="button" class="merchant-btn" (click)="goToRegisterMerchant()">
          Register as Merchant
        </button>
       
      </div>
    </div>

    <!-- Panel droit -->
    <div class="right-panel">
      <div class="form-box">
        <h2>Create an account</h2>
        <p class="subtitle">Join the platform in a few steps</p>

        <!-- SÃ©lection rÃ´le -->
        <div class="role-selector">
          <button type="button"
                  [class.active]="selectedRole() === 'CLIENT'"
                  (click)="selectRole('CLIENT')">
            ğŸ‘¤ Client
          </button>
          <button type="button"
                  [class.active]="selectedRole() === 'COURSIER'"
                  (click)="selectRole('COURSIER')">
            ğŸš´ Courier
          </button>
        </div>

        <div class="notice" *ngIf="selectedRole() === 'COURSIER'">
          âš  Courier accounts require admin validation.
        </div>

        <!-- Messages -->
        <div class="error"   *ngIf="error()">{{ error() }}</div>
        <div class="success" *ngIf="successMessage()">{{ successMessage() }}</div>

        <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!successMessage()">

          <input type="text"  formControlName="nom"    placeholder="Last name">
          <input type="text"  formControlName="prenom" placeholder="First name">
          <input type="email" formControlName="email"  placeholder="Email">
          <input type="tel"   formControlName="telephone" placeholder="Phone">

          <input [type]="showPassword() ? 'text' : 'password'"
                 formControlName="motDePasse"
                 placeholder="Password">

          <input [type]="showPassword() ? 'text' : 'password'"
                 formControlName="confirmPassword"
                 placeholder="Confirm password">

          <div class="password-mismatch"
               *ngIf="form.hasError('passwordMismatch') && form.get('confirmPassword')?.touched">
            âš  Passwords do not match
          </div>

          <button type="submit" [disabled]="loading() || !selectedRole()">
            {{ loading() ? 'Creating...' : 'Create account' }}
          </button>

        </form>

        <div class="footer-link">
          Already have an account? <a (click)="goToLogin()">Sign in</a>
        </div>

      </div>
    </div>
  </div>
</div>